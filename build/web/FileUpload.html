<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Your First App with DHTMLX</title>
  <!-- dhtmlx.js contains all necessary dhtmlx library javascript code -->
  <script src="./FileUpload/codebase/dhtmlx.js" type="text/javascript"></script>
  <!--<script src="./GridTableMetaData/codebase/connector/connector.js" type="text/javascript"></script>-->
  <!-- dhtmlx.css contains styles definitions for all use components -->
  <script src="./FileUpload/FileUpload.js" type="text/javascript"></script>
  <script src="./FileUpload/common.js" type="text/javascript"></script>
  <link rel="STYLESHEET" type="text/css" href="./FileUpload/codebase/dhtmlx.css">
  <style>
    /*these styles allow dhtmlxLayout to work in fullscreen mode in different browsers correctly*/
    html,
    body {
      width: 100%;
      height: 100%;
      margin: 0px;
      overflow: hidden;
      background-color: white;
    }
  </style>


</head>
<script>
  function formobj_submit(formobj, params, callbackfun) {
    //alert("Before");
    formobj.send(params + "&rs=" + (new Date()).valueOf(), "POST", function(loader) {
      //call user callback function
      callbackfun(loader);
      console.log(formobj);
    });
    //alert("After");
  }

  function encodeImageFileAsURL(element) {
    // alert("browse option selected")

    var file = element.files[0];
    console.log(file);
    var reader = new FileReader();
    reader.onloadend = function() {
      console.log("Base64 encoded");
      console.log(reader.result)
      var img = document.getElementById("tempImageId");
      console.log(img);
      // img.display = "block";
      img.src = reader.result;

    }
    reader.readAsDataURL(file);

  }
</script>

<body onload="new com.erwin.FileUpload()">

</body>

</html>